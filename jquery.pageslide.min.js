/*
 * jQuery pageSlide
 * Version 2.0
 * http://srobbin.com/jquery-pageslide/
 *
 * jQuery Javascript plugin which slides a webpage over to reveal an additional interaction pane.
 *
 * Copyright (c) 2011 Scott Robbin (srobbin.com)
 * Dual licensed under the MIT and GPL licenses.
*/
(function(a){function k(d,b,f){0===d.indexOf("#")?(d=a(d),f&&(d=d.clone(!0)),d.appendTo(c.empty()).show()):(b?(f=a("<iframe />").attr({src:d,frameborder:0,hspace:0}).css({width:"100%",height:"100%"}),c.html(f)):c.load(d),c.data("localEl",!1))}function l(d,b){var a=c.outerWidth(!0),e={},g={};if(!c.is(":visible")&&!h){h=!0;switch(d){case "left":c.css({left:"auto",right:"-"+a+"px"});e["margin-left"]="-="+a;g.right="+="+a;break;default:c.css({left:"-"+a+"px",right:"auto"}),e["margin-left"]="+="+a,g.left=
"+="+a}m.animate(e,b);c.show().animate(g,b,function(){h=!1})}}var m=a("body"),c=a("#pageslide"),h=!1,n;0==c.length&&(c=a("<div />").attr("id","pageslide").css("display","none").appendTo(a("body")));a.fn.pageslide=function(d){this.click(function(b){var f=a(this),e=a.extend({href:f.attr("href")},d);b.preventDefault();b.stopPropagation();c.is(":visible")&&f[0]==n?a.pageslide.close():(a.pageslide(e),n=f[0])})};a.fn.pageslide.defaults={speed:200,direction:"right",modal:!1,iframe:!0,href:null,clone:!0};
a.pageslide=function(d){var b=a.extend({},a.fn.pageslide.defaults,d);c.is(":visible")&&c.data("direction")!=b.direction?a.pageslide.close(function(){k(b.href,b.iframe,b.clone);l(b.direction,b.speed)}):(k(b.href,b.iframe,b.clone),c.is(":hidden")&&l(b.direction,b.speed));c.data(b)};a.pageslide.close=function(d){var b=a("#pageslide"),c=b.outerWidth(!0),e=b.data("speed"),g={},j={};if(!b.is(":hidden")&&!h){h=!0;switch(b.data("direction")){case "left":g["margin-left"]="+="+c;j.right="-="+c;break;default:g["margin-left"]=
"-="+c,j.left="-="+c}b.animate(j,e);m.animate(g,e,function(){b.hide();h=!1;"undefined"!=typeof d&&d()})}};c.click(function(a){a.stopPropagation()});a(document).bind("click keyup",function(d){"keyup"==d.type&&27!=d.keyCode||c.is(":visible")&&!c.data("modal")&&a.pageslide.close()})})(jQuery);