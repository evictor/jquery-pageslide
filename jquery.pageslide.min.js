/*
 * jQuery pageSlide
 * Version 2.0
 * http://srobbin.com/jquery-pageslide/
 *
 * jQuery Javascript plugin which slides a webpage over to reveal an additional interaction pane.
 *
 * Copyright (c) 2011 Scott Robbin (srobbin.com)
 * Dual licensed under the MIT and GPL licenses.
*/
(function(a){function j(e,b,d){0===e.indexOf("#")?(e=a(e),d&&(e=e.clone(!0)),e.data("appended.pageslide")||(c.children().data("appended.pageslide",!1),c.is(":not(:empty)")&&c.empty(),e.appendTo(c).data("appended.pageslide",!0)),e.show()):(b?(d=a("<iframe />").attr({src:e,frameborder:0,hspace:0}).css({width:"100%",height:"100%"}),c.html(d)):c.load(e),c.data("localEl",!1))}function k(e,b){var d=c.outerWidth(!0),a={},f={};if(!c.is(":visible")&&!g){g=!0;switch(e){case "left":c.css({left:"auto",right:"-"+
d+"px"});a["margin-left"]="-="+d;a["margin-right"]="+="+d;f.right="+="+d;break;default:c.css({left:"-"+d+"px",right:"auto"}),a["margin-left"]="+="+d,a["margin-right"]="-="+d,f.left="+="+d}l.animate(a,b);c.show().animate(f,b,function(){g=!1})}}var l=a("body"),c=a("#pageslide"),g=!1,m;0==c.length&&(c=a("<div />").attr("id","pageslide").css("display","none").appendTo(a("body")));a.fn.pageslide=function(e){this.click(function(b){var d=a(this),g=a.extend({href:d.attr("href")},e);b.preventDefault();b.stopPropagation();
c.is(":visible")&&d[0]==m?a.pageslide.close():(a.pageslide(g),m=d[0])})};a.fn.pageslide.defaults={speed:200,direction:"right",modal:!1,iframe:!0,href:null,clone:!0};a.pageslide=function(e){var b=a.extend({},a.fn.pageslide.defaults,e);c.is(":visible")&&c.data("direction")!=b.direction?a.pageslide.close(function(){j(b.href,b.iframe,b.clone);k(b.direction,b.speed)}):(j(b.href,b.iframe,b.clone),c.is(":hidden")&&k(b.direction,b.speed));c.data(b)};a.pageslide.close=function(e){var b=a("#pageslide"),d=b.outerWidth(!0),
c=b.data("speed"),f={},h={};if(!b.is(":hidden")&&!g){g=!0;switch(b.data("direction")){case "left":f["margin-left"]="+="+d;f["margin-right"]="-="+d;h.right="-="+d;break;default:f["margin-left"]="-="+d,f["margin-right"]="+="+d,h.left="-="+d}b.animate(h,c);l.animate(f,c,function(){b.hide();g=!1;"undefined"!=typeof e&&e()})}};c.click(function(a){a.stopPropagation()});a(document).bind("click keyup",function(e){"keyup"==e.type&&27!=e.keyCode||c.is(":visible")&&!c.data("modal")&&a.pageslide.close()})})(jQuery);